---
// Página principal optimizada
import Layout from "@/layouts/Layout.astro";
import SplashScreen from "@/components/sections/home/SplashScreen.astro";
import Hero from "@/components/sections/home/Hero.astro";
import Accesos from "@/components/sections/home/Accesos.astro";
import CarouselNiveles from "@/components/sections/home/CarouselNiveles.astro";
import CardsCarreras from "@/components/sections/home/CardsCarreras.astro";
import Tabs from "@/components/sections/home/Tabs.astro";
import CallAction from "@/components/sections/shared/CallAction.astro";
import SobreUNE from "@/components/sections/home/SobreUNE.astro";
import Estadisticas from "@/components/sections/home/Estadisticas.astro";
import DescubreUNE from "@/components/sections/home/DescubreUNE.astro";
import DentroUNE from "@/components/sections/home/DentroUNE.astro";
import Blog from "@/components/sections/home/Blog.astro";
import Frecuents from "@/components/sections/shared/Faq.astro";
import GeneralCTA from "@/components/sections/shared/GeneralCTA.astro";
import ContactSidebar from "@/components/sections/home/ContactSidebar.astro";

const pageTitle = "UNE - 30 Años Creyendo en Ti";
const pageDescription = "Universidad UNE - 30 años de excelencia educativa";
---

<Layout title={pageTitle} description={pageDescription}>
  <SplashScreen alwaysShow={false} />

  <main id="mainContent" class="main-content">
    <Hero />
    <Accesos />
    <CarouselNiveles />
    <CardsCarreras />
    <Tabs />
    <CallAction />
    <SobreUNE />
    <Estadisticas />
    <DescubreUNE />
    <DentroUNE />
    <Blog />
    <Frecuents />
    <GeneralCTA />
    <ContactSidebar
      whatsappNumber="521234567890"
      phoneNumber="tel:+521234567890"
      email="contacto@une.edu.mx"
    />
  </main>
</Layout>

<script>
  // Script minimalista - solo manejo de visibilidad
  function initPageContent() {
    const mainContent = document.getElementById("mainContent");

    function showContent() {
      if (mainContent) {
        mainContent.classList.add("visible");
      }
    }

    // Escuchar evento del splash
    window.addEventListener("preloader:complete", showContent);

    // Fallback de seguridad
    setTimeout(() => {
      if (!mainContent?.classList.contains("visible")) {
        showContent();
      }
    }, 4000);
  }

  // Inicializar cuando el DOM esté listo
  if (document.readyState === "loading") {
    document.addEventListener("DOMContentLoaded", initPageContent);
  } else {
    initPageContent();
  }
</script>
