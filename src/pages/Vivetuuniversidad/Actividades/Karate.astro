---
import Layout from "@/layouts/Layout.astro";

import Winner from "@/assets/Imagenes/VTU/winner.webp";
import Ilustration from "@/assets/Imagenes/VTU/Ilustraciones/General.webp";
import VTULogo from "@/assets/Logos/VTU.webp";

import Galeria from "@/components/sections/vtu/Galeria.astro";
import Actividades from "@/components/sections/vtu/Actividades.astro";
// Configuraci√≥n de planteles con diferentes casos

const planteles = [
  {
    id: "1",
    nombre: "Gastronomia y Arte Culinario",
    codigo: "00015",
    direccion: "Torneos, entrenamientos y eventos deportivos",
    ciudad: "Tonala",
    url: "/campus/centro",
    imagen: "/src/assets/Imagenes/VTU/Cards/Futbol.webp",
    lat: 20.67744801539995,
    lon: -103.34031672627513,
  },

  {
    id: "10",
    nombre: "Futbol Americano UNE",
    codigo: "00015",
    direccion: "Torneos, entrenamientos y eventos deportivos",
    ciudad: "Puerto Vallarta",
    url: "/campus/centro",
    imagen: "/src/assets/Imagenes/CardsPlanteles/Centro.webp",
    lat: 20.67744801539995,
    lon: -103.34031672627513,
  },
];

const ciudades = ["Tonala", "Puerto Vallarta"];

const images = [
  {
    src: "/src/assets/Imagenes/GaleriaCongresos/Vallarta.webp",
    alt: "Congreso de Derecho 2024",
    title: "Inauguraci√≥n del evento",
  },
  {
    src: "/src/assets/Imagenes/GaleriaCongresos/Vallarta.webp",
    alt: "Ponencia principal",
    title: "Dr. Smith presentando",
  },
  {
    src: "/src/assets/Imagenes/GaleriaCongresos/Vallarta.webp",
    alt: "Mesa redonda",
    title: "Panel de expertos",
  },
  {
    src: "/src/assets/Imagenes/GaleriaCongresos/Vallarta.webp",
    alt: "Networking",
    title: "Momento de networking",
  },
];
---

<Layout>
  <main class="bg-white overflow-hidden min-h-screen">
    <div class="container mx-auto px-4 h-full">
      <!-- Mobile Layout (Stack Vertically) -->
      <div class="lg:hidden flex flex-col items-center space-y-6 py-8">
        <!-- Logo and Title -->
        <div class="text-center">
          <img
            src={VTULogo.src}
            alt="Logo de Vive Tu Universidad"
            class="w-32 mx-auto"
          />
        </div>

        <!-- Winner Image -->
        <div class="w-full max-w-sm">
          <img
            src={Winner.src}
            alt="Estudiante ganador con medallas"
            class="w-full h-auto rounded-lg shadow-lg"
          />
        </div>

        <!-- Text Content -->
        <div class="text-center space-y-4 px-4">
          <p class="text-gray-700 text-sm leading-relaxed">
            En Vive Tu Universidad (VTU), creemos que elegir una universidad es
            tambi√©n encontrar un lugar donde puedas ser t√∫. En UNE te espera una
            comunidad aut√©ntica, cercana y con prop√≥sito. Aqu√≠ se valora qui√©n
            eres, se celebra lo que te hace √∫nico y se impulsa tu crecimiento.
            Porque m√°s que estudiar, en UNE vives, conectas y construyes tu
            futuro.
          </p>

          <button
            class="bg-blue-800 text-white px-6 py-3 rounded-lg font-semibold text-sm hover:bg-blue-900 transition-colors"
           aria-label="¬°Bienvenido a donde s√≠ perteneces!" title="¬°Bienvenido a donde s√≠ perteneces!">
            ¬°Bienvenido a donde s√≠ perteneces!
          </button>
        </div>

        <!-- Illustration -->
        <div class="w-full max-w-md">
          <img
            src={Ilustration.src}
            alt="Ilustraci√≥n de estudiantes en actividades deportivas"
            class="w-full h-auto"
          />
        </div>
      </div>

      <!-- Desktop Layout -->
      <div
        class="hidden lg:flex lg:items-stretch lg:justify-center lg:gap-8 py-8 min-h-screen"
      >
        <!-- Left Content -->
        <div
          class="flex flex-col justify-center items-center space-y-6 max-w-md"
        >
          <!-- Logo -->
          <div class="text-center">
            <img
              src={VTULogo.src}
              alt="Logo de Vive Tu Universidad"
              class="w-64 mx-auto"
            />
          </div>

          <!-- Text Content -->
          <div class="text-center space-y-4 px-4">
            <p class="text-gray-700 text-sm leading-relaxed">
              En Vive Tu Universidad (VTU), creemos que elegir una universidad
              es tambi√©n encontrar un lugar donde puedas ser t√∫. En UNE te
              espera una comunidad aut√©ntica, cercana y con prop√≥sito. Aqu√≠ se
              valora qui√©n eres, se celebra lo que te hace √∫nico y se impulsa tu
              crecimiento. Porque m√°s que estudiar, en UNE vives, conectas y
              construyes tu futuro.
            </p>
          </div>

          <!-- Illustration -->
          <div class="w-full max-w-xs">
            <img
              src={Ilustration.src}
              alt="Ilustraci√≥n de estudiantes en actividades deportivas"
              class="w-full h-auto"
            />
          </div>

          <!-- Button -->
          <div class="text-center">
            <button
              class="bg-azul-une text-white px-8 py-3 font-bold text-sm hover:bg-blue-900 transition-colors shadow-lg"
             aria-label="¬°Bienvenido a donde s√≠ perteneces!" title="¬°Bienvenido a donde s√≠ perteneces!">
              ¬°Bienvenido a donde s√≠ perteneces!
            </button>
          </div>
        </div>

        <!-- Right Content - Winner Image -->
        <div class="flex items-center justify-center flex-1">
          <img
            src={Winner.src}
            alt="Estudiante ganador con medallas"
            class="h-[60vh] w-auto rounded-lg shadow-xl object-cover"
          />
        </div>
      </div>
    </div>

    <Actividades
      titulo="Encuentra tu campus m√°s cercano"
      planteles={planteles}
      ciudades={ciudades}
      mostrarMasCercano={true}
    />

    <section class="max-w-6xl mx-auto p-6 mt-12">
      <!-- T√≠tulo principal -->
      <div class="text-center mb-8">
        <h2 class="text-2xl font-bold text-gray-800 relative">
          <span class="bg-white px-4"
            >No te pierdas ninguna fecha importante</span
          >
        </h2>
      </div>

      <!-- Tabs Navigation -->
      <div class="flex justify-center mb-8">
        <div class="bg-gray-100 p-1 rounded-lg">
          <button
            class="tab-btn px-6 py-2 rounded-md font-medium transition-all duration-200 active"
            data-tab="webinars"
           aria-label="Webinars" title="Webinars">
            Webinars
          </button>
          <button
            class="tab-btn px-6 py-2 rounded-md font-medium transition-all duration-200"
            data-tab="torneos"
           aria-label="Torneos" title="Torneos">
            Torneos
          </button>
          <button
            class="tab-btn px-6 py-2 rounded-md font-medium transition-all duration-200"
            data-tab="talleres"
           aria-label="Talleres" title="Talleres">
            Talleres
          </button>
        </div>
      </div>

      <!-- Tab Content -->
      <div class="tab-content-container">
        <!-- Webinars Content -->
        <div id="webinars-content" class="tab-content active">
          <div class="grid md:grid-cols-2 gap-6">
            <!-- Webinar 1 -->
            <div
              class="bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-300"
            >
              <div class="flex">
                <div class="w-32 h-32 flex-shrink-0">
                  <img
                    src="https://placehold.co/128x128/1e40af/ffffff?text=UNE+WEBINAR"
                    alt="Webinar UNE"
                    class="w-full h-full object-cover"
                  />
                </div>
                <div class="p-4 flex-1">
                  <div class="text-sm text-gray-600 mb-2">Mayo 05, 2025</div>
                  <h3 class="text-lg font-semibold text-blue-700 mb-2">
                    Derecho Electoral.
                  </h3>
                  <p class="text-gray-700 text-sm leading-relaxed">
                    Acomp√°√±anos en este webinar con el Mtro.. Sergio Moreno
                    Trujillo y profundiza en el Derecho Electoral.
                  </p>
                </div>
              </div>
            </div>

            <!-- Webinar 2 -->
            <div
              class="bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-300"
            >
              <div class="flex">
                <div class="w-32 h-32 flex-shrink-0">
                  <img
                    src="https://placehold.co/128x128/1e40af/ffffff?text=UNE+WEBINAR"
                    alt="Webinar UNE"
                    class="w-full h-full object-cover"
                  />
                </div>
                <div class="p-4 flex-1">
                  <div class="text-sm text-gray-600 mb-2">abril 30, 2025</div>
                  <h3 class="text-lg font-semibold text-blue-700 mb-2">
                    Reino vegetal en la calidad de vida y el dise√±o
                    arquitect√≥nico
                  </h3>
                  <p class="text-gray-700 text-sm leading-relaxed">
                    "Reino vegetal en la calidad de vida y el dise√±o
                    arquitect√≥nico" con el Dr. Jos√© L√≥pez V√°zquez. Conoce c√≥mo
                    integrar la naturaleza al dise√±o para crear entornos m√°s
                    sostenibles y humanos. üåø
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Torneos Content -->
        <div id="torneos-content" class="tab-content">
          <div class="grid md:grid-cols-2 gap-6">
            <!-- Torneo 1 -->
            <div
              class="bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-300"
            >
              <div class="flex">
                <div class="w-32 h-32 flex-shrink-0">
                  <img
                    src="https://placehold.co/128x128/dc2626/ffffff?text=TORNEO"
                    alt="Torneo"
                    class="w-full h-full object-cover"
                  />
                </div>
                <div class="p-4 flex-1">
                  <div class="text-sm text-gray-600 mb-2">junio 15, 2025</div>
                  <h3 class="text-lg font-semibold text-red-700 mb-2">
                    Torneo Nacional de Debates
                  </h3>
                  <p class="text-gray-700 text-sm leading-relaxed">
                    Participa en el torneo nacional de debates universitarios.
                    Demuestra tus habilidades argumentativas y gana premios
                    incre√≠bles.
                  </p>
                </div>
              </div>
            </div>

            <!-- Torneo 2 -->
            <div
              class="bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-300"
            >
              <div class="flex">
                <div class="w-32 h-32 flex-shrink-0">
                  <img
                    src="https://placehold.co/128x128/dc2626/ffffff?text=TORNEO"
                    alt="Torneo"
                    class="w-full h-full object-cover"
                  />
                </div>
                <div class="p-4 flex-1">
                  <div class="text-sm text-gray-600 mb-2">julio 20, 2025</div>
                  <h3 class="text-lg font-semibold text-red-700 mb-2">
                    Competencia de Programaci√≥n
                  </h3>
                  <p class="text-gray-700 text-sm leading-relaxed">
                    √önete al torneo de programaci√≥n competitiva. Resuelve
                    algoritmos complejos y compite con los mejores programadores
                    del pa√≠s.
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Talleres Content -->
        <div id="talleres-content" class="tab-content">
          <div class="grid md:grid-cols-2 gap-6">
            <!-- Taller 1 -->
            <div
              class="bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-300"
            >
              <div class="flex">
                <div class="w-32 h-32 flex-shrink-0">
                  <img
                    src="https://placehold.co/128x128/059669/ffffff?text=TALLER"
                    alt="Taller"
                    class="w-full h-full object-cover"
                  />
                </div>
                <div class="p-4 flex-1">
                  <div class="text-sm text-gray-600 mb-2">agosto 10, 2025</div>
                  <h3 class="text-lg font-semibold text-green-700 mb-2">
                    Taller de Liderazgo Estudiantil
                  </h3>
                  <p class="text-gray-700 text-sm leading-relaxed">
                    Desarrolla tus habilidades de liderazgo con expertos en
                    desarrollo personal. Aprende t√©cnicas de comunicaci√≥n
                    efectiva y trabajo en equipo.
                  </p>
                </div>
              </div>
            </div>

            <!-- Taller 2 -->
            <div
              class="bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-300"
            >
              <div class="flex">
                <div class="w-32 h-32 flex-shrink-0">
                  <img
                    src="https://placehold.co/128x128/059669/ffffff?text=TALLER"
                    alt="Taller"
                    class="w-full h-full object-cover"
                  />
                </div>
                <div class="p-4 flex-1">
                  <div class="text-sm text-gray-600 mb-2">
                    septiembre 05, 2025
                  </div>
                  <h3 class="text-lg font-semibold text-green-700 mb-2">
                    Taller de Innovaci√≥n y Emprendimiento
                  </h3>
                  <p class="text-gray-700 text-sm leading-relaxed">
                    Convierte tus ideas en proyectos reales. Aprende
                    metodolog√≠as √°giles, design thinking y c√≥mo crear un plan de
                    negocio exitoso.
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <Galeria images={images} />


  </main>
</Layout>

<style>
  .tab-btn {
    color: #374151; /* text-gray-700 */
    background-color: #ffffff; /* bg-white */
    border: 1px solid #d1d5db; /* border-gray-300 */
    transition: all 0.3s ease-in-out;
    cursor: pointer;
    padding: 0.5rem 1rem;
    font-size: 1rem;
  }

  .tab-btn.active {
    background-color: #1e40af; /* bg-blue-800 */
    color: #ffffff; /* text-white */
    border-color: #1e40af; /* border-blue-800 */
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    transform: translateY(-2px);
  }

  .tab-content {
    display: none;
    opacity: 0;
  }

  .tab-content.active {
    display: block;
    opacity: 1;
    animation: fadeInContent 0.4s ease-out forwards;
    animation-fill-mode: both;
  }

  @keyframes fadeInContent {
    0% {
      opacity: 0;
      transform: translateY(15px);
    }
    100% {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* Mejor UX en hover */
  .tab-btn:hover:not(.active) {
    background-color: #f3f4f6; /* bg-gray-100 */
    color: #1f2937; /* text-gray-800 */
    border-color: #9ca3af; /* border-gray-400 */
    transform: translateY(-1px);
  }

  .tab-btn:active {
    transform: translateY(0);
  }
</style>

<script is:inline>
  // JavaScript para la funcionalidad de las tabs
  document.addEventListener("DOMContentLoaded", function () {
    console.log("üöÄ Script cargado - DOMContentLoaded ejecutado");

    const tabButtons = document.querySelectorAll(".tab-btn");
    const tabContents = document.querySelectorAll(".tab-content");

    console.log("üìä Elementos encontrados:");
    console.log("- Tab buttons:", tabButtons.length);
    console.log("- Tab contents:", tabContents.length);

    if (tabButtons.length === 0) {
      console.error("‚ùå No se encontraron botones de tab (.tab-btn)");
      return;
    }

    if (tabContents.length === 0) {
      console.error("‚ùå No se encontraron contenidos de tab (.tab-content)");
      return;
    }

    tabButtons.forEach((button, index) => {
      console.log(
        `üîò Configurando bot√≥n ${index + 1}:`,
        button.getAttribute("data-tab")
      );

      button.addEventListener("click", (event) => {
        console.log(
          "üñ±Ô∏è Click detectado en bot√≥n:",
          button.getAttribute("data-tab")
        );

        const targetTab = button.getAttribute("data-tab");
        console.log("üéØ Target tab:", targetTab);

        // Remover clase active de todos los botones y contenidos
        console.log("üßπ Removiendo clases active...");
        tabButtons.forEach((btn, btnIndex) => {
          const wasActive = btn.classList.contains("active");
          btn.classList.remove("active");
          if (wasActive) {
            console.log(`  - Bot√≥n ${btnIndex + 1} desactivado`);
          }
        });

        tabContents.forEach((content, contentIndex) => {
          const wasActive = content.classList.contains("active");
          content.classList.remove("active");
          if (wasActive) {
            console.log(`  - Contenido ${contentIndex + 1} ocultado`);
          }
        });

        // Agregar clase active al bot√≥n clickeado
        button.classList.add("active");
        console.log("‚úÖ Bot√≥n activado:", targetTab);

        // Mostrar el contenido correspondiente con delay para asegurar la animaci√≥n
        const targetContent = document.getElementById(`${targetTab}-content`);
        console.log("üîç Buscando contenido:", `${targetTab}-content`);

        if (targetContent) {
          // Forzar reflow para que la animaci√≥n funcione
          setTimeout(() => {
            targetContent.classList.add("active");
            console.log("‚úÖ Contenido mostrado:", `${targetTab}-content`);

            // Verificar estado despu√©s de un momento
            setTimeout(() => {
              const finalOpacity = getComputedStyle(targetContent).opacity;
              console.log("üîÑ Opacity despu√©s de animaci√≥n:", finalOpacity);
            }, 50);
          }, 10);
        } else {
          console.error(
            "‚ùå No se encontr√≥ el contenido:",
            `${targetTab}-content`
          );
          console.log(
            "üìã IDs disponibles:",
            Array.from(document.querySelectorAll("[id]")).map((el) => el.id)
          );
        }

        // Verificar estado final
        console.log("üèÅ Estado final:");
        const activeButton = document.querySelector(".tab-btn.active");
        const activeContent = document.querySelector(".tab-content.active");
        console.log("- Bot√≥n activo:", activeButton?.getAttribute("data-tab"));
        console.log("- Contenido activo:", activeContent?.id);
        console.log(
          "- Display del contenido activo:",
          activeContent ? getComputedStyle(activeContent).display : "N/A"
        );
        console.log(
          "- Opacity del contenido activo:",
          activeContent ? getComputedStyle(activeContent).opacity : "N/A"
        );
      });
    });

    console.log("üéâ Configuraci√≥n de tabs completada");
  });
</script>
